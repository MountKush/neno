{% capture query %}


{% endcapture %}


{% if collection != blank %}
{
  "all_products_count": {{ collection.all_products_count | json }},
  "all_tags": {{ collection.all_tags | json }},
  "all_types": {{ collection.all_types | json }},
  "all_vendors": {{ collection.all_vendors | json }},
  "current_type": {{ collection.current_type | json }},
  "current_vendor": {{ collection.current_vendor | json }},
  "default_sort_by": {{ collection.default_sort_by | json }},
  "description": {{ collection.description | json }},
  "handle": {{ collection.handle | json }},
  "id": {{ collection.id | json }},
  "image": {% render 'helper-image' image: collection.image %},
  "next_product": {{ collection.next_product | json }},
  "previous_product": {{ collection.previous_product | json }},
  {% if query contains 'products.' %}
    {% capture productsQuery %}
      {% render 'helper-reduceQuery' object: 'products.', query: query %}
    {% endcapture %}
    "products": [{% render 'helper-products' products: collection.products, query: productsQuery %}],
  {% endif %}
  "products_count": {{ collection.products_count | json }},
  "published_at": {{ collection.published_at | json }},
  "sort_by": {{ collection.sort_by | json }},
  "sort_options": {{ collection.sort_options | json }},
  "template_suffix": {{ collection.template_suffix | json }},
  {% if query contains 'title' %}
    "title": {{ collection.title | json }},
  {% endif %}
  "tags": {{ collection.tags | json }},
  "url": {{ collection.url | json }}
}
{% else %}
null
{% endif %}
